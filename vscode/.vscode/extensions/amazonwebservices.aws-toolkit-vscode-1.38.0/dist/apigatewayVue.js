(()=>{"use strict";var V={744:(e,u)=>{var c;c={value:!0},u.Z=(v,f)=>{for(const[b,k]of f)v[b]=k;return v}}},S={};function m(e){var u=S[e];if(u!==void 0)return u.exports;var c=S[e]={exports:{}};return V[e](c,c.exports,m),c.exports}m.r=e=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var A={};(()=>{m.r(A);const e=Vue,u=(0,e.createElementVNode)("br",null,null,-1),c={id:"app"},v=(0,e.createElementVNode)("h3",null,"Select a resource:",-1),f=(0,e.createElementVNode)("option",{disabled:"",value:""},"Select a resource",-1),b=["disabled","value"],k=(0,e.createElementVNode)("h3",null,"Select a method:",-1),$=(0,e.createElementVNode)("option",{disabled:"",value:""},"Select a method",-1),L=["value"],M={key:1},R=[(0,e.createElementVNode)("option",{disabled:"",value:""},"Select a resource first",-1)],B=(0,e.createElementVNode)("br",null,null,-1),O=(0,e.createElementVNode)("h3",null,"Query string (optional)",-1),I=(0,e.createElementVNode)("br",null,null,-1),T=(0,e.createElementVNode)("br",null,null,-1),j=(0,e.createElementVNode)("br",null,null,-1),C=["disabled"],q=(0,e.createElementVNode)("br",null,null,-1),z={key:2},F=(0,e.createElementVNode)("b",null,"Please correct the following error(s):",-1);function P(s,n,i,o,a,r){return(0,e.openBlock)(),(0,e.createElementBlock)(e.Fragment,null,[(0,e.createElementVNode)("h1",null,"Invoke methods on "+(0,e.toDisplayString)(s.initialData.ApiName)+" ("+(0,e.toDisplayString)(s.initialData.ApiId)+")",1),(0,e.createElementVNode)("pre",null,(0,e.toDisplayString)(s.initialData.ApiArn),1),u,(0,e.createElementVNode)("div",c,[v,(0,e.withDirectives)((0,e.createElementVNode)("select",{"onUpdate:modelValue":n[0]||(n[0]=t=>s.selectedApiResource=t),onChange:n[1]||(n[1]=(...t)=>s.setApiResource&&s.setApiResource(...t))},[f,((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(s.initialData.Resources,t=>((0,e.openBlock)(),(0,e.createElementBlock)("option",{key:t.id,disabled:!t.resourceMethods,value:t.id},(0,e.toDisplayString)(`${t.path}${t.resourceMethods===void 0?" -- No methods":""}`),9,b))),128))],544),[[e.vModelSelect,s.selectedApiResource]]),k,s.selectedApiResource?(0,e.withDirectives)(((0,e.openBlock)(),(0,e.createElementBlock)("select",{key:0,"onUpdate:modelValue":n[2]||(n[2]=t=>s.selectedMethod=t)},[$,((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(s.methods,t=>((0,e.openBlock)(),(0,e.createElementBlock)("option",{key:t,value:t},(0,e.toDisplayString)(t),9,L))),128))],512)),[[e.vModelSelect,s.selectedMethod]]):((0,e.openBlock)(),(0,e.createElementBlock)("select",M,R)),B,O,(0,e.withDirectives)((0,e.createElementVNode)("input",{type:"text","onUpdate:modelValue":n[3]||(n[3]=t=>s.queryString=t)},null,512),[[e.vModelText,s.queryString]]),I,T,(0,e.withDirectives)((0,e.createElementVNode)("textarea",{rows:"20",cols:"90","onUpdate:modelValue":n[4]||(n[4]=t=>s.jsonInput=t)},null,512),[[e.vModelText,s.jsonInput]]),j,(0,e.createElementVNode)("input",{type:"submit",onClick:n[5]||(n[5]=(...t)=>s.sendInput&&s.sendInput(...t)),value:"Invoke",disabled:s.isLoading},null,8,C),q,s.errors.length?((0,e.openBlock)(),(0,e.createElementBlock)("div",z,[F,(0,e.createElementVNode)("ul",null,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(s.errors,t=>((0,e.openBlock)(),(0,e.createElementBlock)("li",{key:t},(0,e.toDisplayString)(t),1))),128))])])):(0,e.createCommentVNode)("v-if",!0)])],64)}/*!
 * Copyright 2021 Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */class _{static registerGlobalCommands(){const n=new Event("remount");window.addEventListener("message",i=>{const{command:o}=i.data;o==="$clear"&&(vscode.setState({}),this.messageListeners.forEach(a=>this.removeListener(a)),window.dispatchEvent(n))})}static addListener(n){this.messageListeners.add(n),window.addEventListener("message",n)}static removeListener(n){this.messageListeners.delete(n),window.removeEventListener("message",n)}static sendRequest(n,i,o){const a=JSON.parse(JSON.stringify(o)),r=new Promise((t,h)=>{const l=w=>{const d=w.data;if(n===d.id)if(this.removeListener(l),window.clearTimeout(p),d.error===!0){const E=JSON.parse(d.data);h(new Error(E.message))}else d.event?(typeof o[0]!="function"&&h(new Error(`Expected frontend event handler to be a function: ${i}`)),t(this.registerEventHandler(i,o[0]))):t(d.data)},p=setTimeout(()=>{this.removeListener(l),h(new Error(`Timed out while waiting for response: id: ${n}, command: ${i}`))},3e5);this.addListener(l)});return vscode.postMessage({id:n,command:i,data:a}),r}static registerEventHandler(n,i){const o=a=>{const r=a.data;if(r.command===n){if(!r.event)throw new Error(`Expected backend handler to be an event emitter: ${n}`);i(r.data)}};return this.addListener(o),{dispose:()=>this.removeListener(o)}}static create(){return this.initialized||(this.initialized=!0,this.registerGlobalCommands()),new Proxy({},{set:()=>{throw new TypeError("Cannot set property to webview client")},get:(n,i)=>{var o;if(typeof i!="string"){console.warn(`Tried to index webview client with non-string property: ${String(i)}`);return}if(i==="init"){const r=(o=vscode.getState())!=null?o:{};if(r.__once)return()=>Promise.resolve();vscode.setState(Object.assign(r,{__once:!0}))}const a=(this.counter++).toString();return(...r)=>this.sendRequest(a,i,r)}})}}_.counter=0,_.initialized=!1,_.messageListeners=new Set;/*!
 * Copyright 2021 Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */const g=new Set;window.addEventListener("remount",()=>g.clear());const J={created(){var s,n,i,o,a;if(this.$data===void 0)return;const r=(s=vscode.getState())!=null?s:{};this.$options._count=((n=this.$options._count)!=null?n:0)+1;const t=(o=this.id)!=null?o:`${(i=this.name)!=null?i:`DEFAULT-${g.size}`}-${this.$options._count}`;if(this.$options._unid=t,g.has(t)){console.warn(`Component "${t}" already exists. State-saving functionality will be disabled.`);return}g.add(t);const h=(a=r[t])!=null?a:{};Object.keys(this.$data).forEach(l=>{var p;this.$data[l]=(p=h[l])!=null?p:this.$data[l]}),Object.keys(this.$data).forEach(l=>{this.$watch(l,p=>{var w,d;const E=(w=vscode.getState())!=null?w:{},Z=Object.assign((d=E[t])!=null?d:{},{[l]:JSON.parse(JSON.stringify(p))});vscode.setState(Object.assign(E,{[t]:Z}))},{deep:!0})})}},y=_.create(),U={ApiName:"",ApiId:"",ApiArn:"",Resources:{},Region:"",localizedMessages:{noApiResource:"noApiResource",noMethod:"noMethod"}},x=(0,e.defineComponent)({mixins:[J],data:()=>({initialData:U,selectedApiResource:"",selectedMethod:"",methods:[],jsonInput:"",queryString:"",errors:[],isLoading:!1}),async created(){var s;this.initialData=(s=await y.init())!=null?s:this.initialData},mounted(){this.$nextTick(function(){window.addEventListener("message",this.handleMessageReceived)})},methods:{handleMessageReceived:function(s){const n=s.data;switch(n.command){case"setMethods":this.methods=n.methods,this.methods&&(this.selectedMethod=this.methods[0]);break;case"invokeApiStarted":this.isLoading=!0;break;case"invokeApiFinished":this.isLoading=!1;break}},setApiResource:function(){y.handler({command:"apiResourceSelected",resource:this.initialData.Resources[this.selectedApiResource],region:this.initialData.Region})},sendInput:function(){this.errors=[],this.selectedApiResource||this.errors.push(this.initialData.localizedMessages.noApiResource),this.selectedMethod||this.errors.push(this.initialData.localizedMessages.noMethod),!(this.errors.length>0)&&y.handler({command:"invokeApi",body:this.jsonInput,api:this.initialData.ApiId,selectedApiResource:this.initialData.Resources[this.selectedApiResource],selectedMethod:this.selectedMethod,queryString:this.queryString,region:this.initialData.Region})}}});var H=m(744);const G=(0,H.Z)(x,[["render",P]]);/*!
 * Copyright 2021 Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */const N=()=>(0,e.createApp)(G),D=N();D.mount("#vue-app"),window.addEventListener("remount",()=>{D.unmount(),N().mount("#vue-app")})})(),module.exports=A})();

//# sourceMappingURL=apigatewayVue.js.map