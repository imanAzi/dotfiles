(()=>{"use strict";var $={744:(e,u)=>{var c;c={value:!0},u.Z=(h,f)=>{for(const[E,y]of f)h[E]=y;return h}}},k={};function p(e){var u=k[e];if(u!==void 0)return u.exports;var c=k[e]={exports:{}};return $[e](c,c.exports,p),c.exports}p.r=e=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var S={};(()=>{p.r(S);const e=Vue,u=["id"],c=(0,e.createElementVNode)("h1",null,"Feedback for AWS Toolkit",-1),h=(0,e.createElementVNode)("h3",{id:"sentiment-heading"},"How was your experience?",-1),f=(0,e.createElementVNode)("label",{for:"positive-sentiment"},null,-1),E=(0,e.createElementVNode)("label",{for:"negative-sentiment"},null,-1),y=(0,e.createElementVNode)("h3",{id:"feedback-heading"},"Feedback",-1),L=(0,e.createElementVNode)("div",null,[(0,e.createElementVNode)("em",null,[(0,e.createTextVNode)("Feedback is "),(0,e.createElementVNode)("b",null,"anonymous"),(0,e.createTextVNode)(". If you need a reply, "),(0,e.createElementVNode)("a",{href:"https://github.com/aws/aws-toolkit-vscode/issues/new/choose"},"contact us on GitHub"),(0,e.createTextVNode)(".")])],-1),T={key:0,type:"submit",value:"Submitting...",disabled:""},O=["disabled"],F={key:0,id:"error"};function x(n,t,i,o,a,r){return(0,e.openBlock)(),(0,e.createElementBlock)("div",{id:n.id},[c,h,(0,e.createElementVNode)("div",null,[(0,e.withDirectives)((0,e.createElementVNode)("input",{id:"positive-sentiment",type:"radio",value:"Positive","onUpdate:modelValue":t[0]||(t[0]=s=>n.sentiment=s)},null,512),[[e.vModelRadio,n.sentiment]]),f,(0,e.withDirectives)((0,e.createElementVNode)("input",{id:"negative-sentiment",type:"radio",value:"Negative","onUpdate:modelValue":t[1]||(t[1]=s=>n.sentiment=s)},null,512),[[e.vModelRadio,n.sentiment]]),E]),y,(0,e.createElementVNode)("div",null,[(0,e.withDirectives)((0,e.createElementVNode)("textarea",{style:{width:"100%"},rows:"10",cols:"90","onUpdate:modelValue":t[2]||(t[2]=s=>n.comment=s)},null,512),[[e.vModelText,n.comment]]),(0,e.createElementVNode)("div",null,[(0,e.createElementVNode)("div",{style:{float:"right","font-size":"smaller"},id:"remaining",class:(0,e.normalizeClass)(n.comment.length>2e3?"exceeds-max-length":"")},(0,e.toDisplayString)(2e3-n.comment.length)+" characters remaining ",3),L])]),(0,e.createElementVNode)("p",null,[n.isSubmitting?((0,e.openBlock)(),(0,e.createElementBlock)("input",T)):((0,e.openBlock)(),(0,e.createElementBlock)("input",{key:1,type:"submit",onClick:t[3]||(t[3]=(...s)=>n.submitFeedback&&n.submitFeedback(...s)),disabled:n.comment.length===0||n.comment.length>2e3||n.sentiment==="",value:"Submit"},null,8,O))]),n.error!==""?((0,e.openBlock)(),(0,e.createElementBlock)("div",F,[(0,e.createElementVNode)("strong",null,(0,e.toDisplayString)(n.error),1)])):(0,e.createCommentVNode)("v-if",!0)],8,u)}/*!
 * Copyright 2021 Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */class b{static registerGlobalCommands(){const t=new Event("remount");window.addEventListener("message",i=>{const{command:o}=i.data;o==="$clear"&&(vscode.setState({}),this.messageListeners.forEach(a=>this.removeListener(a)),window.dispatchEvent(t))})}static addListener(t){this.messageListeners.add(t),window.addEventListener("message",t)}static removeListener(t){this.messageListeners.delete(t),window.removeEventListener("message",t)}static sendRequest(t,i,o){const a=JSON.parse(JSON.stringify(o)),r=new Promise((s,v)=>{const d=g=>{const l=g.data;if(t===l.id)if(this.removeListener(d),window.clearTimeout(m),l.error===!0){const w=JSON.parse(l.data);v(new Error(w.message))}else l.event?(typeof o[0]!="function"&&v(new Error(`Expected frontend event handler to be a function: ${i}`)),s(this.registerEventHandler(i,o[0]))):s(l.data)},m=setTimeout(()=>{this.removeListener(d),v(new Error(`Timed out while waiting for response: id: ${t}, command: ${i}`))},3e5);this.addListener(d)});return vscode.postMessage({id:t,command:i,data:a}),r}static registerEventHandler(t,i){const o=a=>{const r=a.data;if(r.command===t){if(!r.event)throw new Error(`Expected backend handler to be an event emitter: ${t}`);i(r.data)}};return this.addListener(o),{dispose:()=>this.removeListener(o)}}static create(){return this.initialized||(this.initialized=!0,this.registerGlobalCommands()),new Proxy({},{set:()=>{throw new TypeError("Cannot set property to webview client")},get:(t,i)=>{var o;if(typeof i!="string"){console.warn(`Tried to index webview client with non-string property: ${String(i)}`);return}if(i==="init"){const r=(o=vscode.getState())!=null?o:{};if(r.__once)return()=>Promise.resolve();vscode.setState(Object.assign(r,{__once:!0}))}const a=(this.counter++).toString();return(...r)=>this.sendRequest(a,i,r)}})}}b.counter=0,b.initialized=!1,b.messageListeners=new Set;/*!
 * Copyright 2021 Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */const _=new Set;window.addEventListener("remount",()=>_.clear());const C={created(){var n,t,i,o,a;if(this.$data===void 0)return;const r=(n=vscode.getState())!=null?n:{};this.$options._count=((t=this.$options._count)!=null?t:0)+1;const s=(o=this.id)!=null?o:`${(i=this.name)!=null?i:`DEFAULT-${_.size}`}-${this.$options._count}`;if(this.$options._unid=s,_.has(s)){console.warn(`Component "${s}" already exists. State-saving functionality will be disabled.`);return}_.add(s);const v=(a=r[s])!=null?a:{};Object.keys(this.$data).forEach(d=>{var m;this.$data[d]=(m=v[d])!=null?m:this.$data[d]}),Object.keys(this.$data).forEach(d=>{this.$watch(d,m=>{var g,l;const w=(g=vscode.getState())!=null?g:{},z=Object.assign((l=w[s])!=null?l:{},{[d]:JSON.parse(JSON.stringify(m))});vscode.setState(Object.assign(w,{[s]:z}))},{deep:!0})})}},D=b.create(),M=(0,e.defineComponent)({setup(){console.log("Loaded!")},data(){return{comment:"",sentiment:"",isSubmitting:!1,error:""}},mounted(){this.$nextTick(function(){window.addEventListener("message",this.handleMessageReceived)})},methods:{handleMessageReceived(n){const t=n.data;switch(t.statusCode){case"Failure":console.error(`Failed to submit feedback: ${t.error}`),this.error=t.error,this.isSubmitting=!1;break}},submitFeedback(){this.error="",this.isSubmitting=!0,console.log("Submitting feedback..."),D.feedback({comment:this.comment,sentiment:this.sentiment})}},mixins:[C]});var B=p(744);const j=(0,B.Z)(M,[["render",x]]);/*!
 * Copyright 2021 Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */const N=()=>(0,e.createApp)(j),V=N();V.mount("#vue-app"),window.addEventListener("remount",()=>{V.unmount(),N().mount("#vue-app")})})(),module.exports=S})();

//# sourceMappingURL=feedbackVue.js.map